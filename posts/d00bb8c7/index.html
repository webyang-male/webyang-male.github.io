<!DOCTYPE html><html lang="zh-CN"><head><!-- hexo injector head_begin start --><link href="https://cdn.jsdelivr.net/npm/hexo-tag-common@latest/css/index.css" rel="stylesheet"/><!-- hexo injector head_begin end --><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="å¤§èµµèŒ"><meta name="copyright" content="å¤§èµµèŒ"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>ajaxä»£ç ç¬”è®° | å¤§èµµèŒçš„å°ç«™</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.24/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_j5gk85dg4pf.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script defer src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.css"><script defer src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/auto-render.min.js"></script><script>document.addEventListener("DOMContentLoaded", () => {
  Yun.utils.renderKatex();
});</script><link class="aplayer-style-marker" rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.css"><script class="aplayer-script-marker" src="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.js" defer></script><script class="meting-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1/dist/Meting.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/pjax@latest/pjax.min.js" defer></script><script src="/js/pjax.js" defer></script><script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="icon" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"zzychaser.top","root":"/","title":"å¤§èµµèŒçš„å°ç«™","version":"1.6.1","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"æœç´¢...","empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹: ${query}","hits":"æ‰¾åˆ° ${hits} æ¡ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"local_search":{"path":"/search.xml"},"fireworks":{"colors":["255, 182, 93","135, 206, 250","173, 255, 47","255, 165, 0","255, 127, 79"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css"><script src="/js/FunnyTitle.js"></script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><meta name="description" content="ğŸ“–æœ¬åšå®¢å†…å®¹ä¾æ®bç«™å°šç¡…è°·ajaxè¯¾ç¨‹ æœåŠ¡å™¨ç¯å¢ƒ Node nodemon  server.js &#x2F;&#x2F;å¼•å…¥express const &amp;#123; response &amp;#125; &#x3D; require(&#39;express&#39;); const express &#x3D; require(&#39;express&#39;); const &amp;#123; access &amp;#125; &#x3D; require(&#39;fs&#39;); const">
<meta property="og:type" content="article">
<meta property="og:title" content="ajaxä»£ç ç¬”è®°">
<meta property="og:url" content="http://zzychaser.top/posts/d00bb8c7/index.html">
<meta property="og:site_name" content="å¤§èµµèŒçš„å°ç«™">
<meta property="og:description" content="ğŸ“–æœ¬åšå®¢å†…å®¹ä¾æ®bç«™å°šç¡…è°·ajaxè¯¾ç¨‹ æœåŠ¡å™¨ç¯å¢ƒ Node nodemon  server.js &#x2F;&#x2F;å¼•å…¥express const &amp;#123; response &amp;#125; &#x3D; require(&#39;express&#39;); const express &#x3D; require(&#39;express&#39;); const &amp;#123; access &amp;#125; &#x3D; require(&#39;fs&#39;); const">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-11-10T06:56:31.000Z">
<meta property="article:modified_time" content="2021-04-28T10:31:53.083Z">
<meta property="article:author" content="å¤§èµµèŒ">
<meta property="article:tag" content="js">
<meta property="article:tag" content="ç¬”è®°">
<meta name="twitter:card" content="summary"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info mickey-mouse"><a class="site-author-avatar" href="/about/" title="å¤§èµµèŒ"><img width="96" loading="lazy" src="/img/avatar.png" alt="å¤§èµµèŒ"><span class="site-author-status" title="æ’¸èµ·è¢–å­åŠ æ²¹å¹²">ğŸ‘¨â€ğŸ“</span></a><div class="site-author-name"><a href="/about/">å¤§èµµèŒ</a></div><a class="site-name" href="/about/site.html">å¤§èµµèŒçš„å°ç«™</a><sub class="site-subtitle">é˜¿æ´‹å‰ç«¯åšå®¢</sub><div class="site-desciption">äººé—´æå¤´ï¼Œå„è‡ªä¹˜æµï¼Œå„æœ‰æ¸¡å£ï¼Œå„æœ‰å½’èˆŸã€‚</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">133</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">22</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">31</span></a></div><a class="site-state-item hty-icon-button" href="/about/#comment" title="å…³äºæˆ‘"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-open-arm-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="QQ-857613794" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/webyang-male" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="è±†ç“£" target="_blank" style="color:#007722"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-douban-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=86882247" title="ç½‘æ˜“äº‘éŸ³ä¹" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/people/shi-guang-fu-bi" title="çŸ¥ä¹" target="_blank" style="color:#0084FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhihu-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/284523421" title="å“”å“©å“”å“©" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="å¾®ä¿¡å…¬ä¼—å·" target="_blank" style="color:#1AAD19"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-2-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="Telegram Channel" target="_blank" style="color:#0088CC"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=JR0QEhMUFhIcEWVUVAtGSkg" title="E-Mail" target="_blank" style="color:#DAA520"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="http://keyboard.zzychaser.top/" title="é”®ç›˜å¯¼èˆª" target="_blank" style="color:#FFB6C1 !important"><i class="ri-keyboard-box-fill"></i></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://travellings.now.sh/" title="ä¸‹ä¸€ç«™" target="_blank" style="color:#D2691E"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-send-plane-2-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://cosbrowser.cloud.tencent.com/login" title="è…¾è®¯äº‘COSå›¾åºŠ" target="_blank" style="color:#3CB371"><i class="ri-database-2-fill"></i></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://console.cloud.tencent.com/" title="è…¾è®¯äº‘æœåŠ¡å™¨" target="_blank" style="color:#00BFFF"><i class="ri-server-fill"></i></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="æˆ‘çš„å°ä¼™ä¼´ä»¬" style="color:#1E90FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a><a class="links-item hty-icon-button" href="/girls/" title="é˜”çˆ±çš„å¦¹çº¸ä»¬" style="color:#FFB6C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-women-line"></use></svg></a><a class="links-item hty-icon-button" href="/albums/" title="å¤§èµµã®ç›¸å†Œ" style="color:#1E90FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-gallery-line"></use></svg></a><a class="links-item hty-icon-button" target="_blank" rel="noopener" href="http://img.zzychaser.top/" title="å¤§èµµçš„å›¾åºŠ" style="color:#FA8072"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></a><a class="links-item hty-icon-button" href="/talk/" title="ç•™è¨€æ ‘æ´" style="color:CornflowerBlue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-chat-3-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83"><span class="toc-number">1.</span> <span class="toc-text">æœåŠ¡å™¨ç¯å¢ƒ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-get-%E5%8E%9F%E7%94%9Fajax"><span class="toc-number">2.</span> <span class="toc-text">1.get  åŸç”Ÿajax</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-post-%E5%8E%9F%E7%94%9Fajax"><span class="toc-number">3.</span> <span class="toc-text">2.post åŸç”Ÿajax</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-ajax%E7%BD%91%E7%BB%9C%E8%B6%85%E6%97%B6%E4%B8%8E%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8"><span class="toc-number">4.</span> <span class="toc-text">3.ajaxç½‘ç»œè¶…æ—¶ä¸ç½‘ç»œå¼‚å¸¸</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-ajax%E5%8F%96%E6%B6%88%E8%AF%B7%E6%B1%82"><span class="toc-number">5.</span> <span class="toc-text">4.ajaxå–æ¶ˆè¯·æ±‚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-ajax%E9%87%8D%E5%A4%8D%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82"><span class="toc-number">6.</span> <span class="toc-text">5.ajaxé‡å¤å‘é€è¯·æ±‚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-AJAX-%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%93%8D%E5%BA%94json"><span class="toc-number">7.</span> <span class="toc-text">6.AJAX æœåŠ¡ç«¯å“åº”json</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-ajax-jquery%E5%8F%91%E9%80%81ajax%E8%AF%B7%E6%B1%82"><span class="toc-number">8.</span> <span class="toc-text">7.ajax-jqueryå‘é€ajaxè¯·æ±‚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-axios-%E5%8F%91%E9%80%81-AJAX%E8%AF%B7%E6%B1%82"><span class="toc-number">9.</span> <span class="toc-text">8.axios å‘é€ AJAXè¯·æ±‚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-fetch-%E5%8F%91%E9%80%81-AJAX%E8%AF%B7%E6%B1%82"><span class="toc-number">10.</span> <span class="toc-text">9.fetch å‘é€ AJAXè¯·æ±‚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5"><span class="toc-number">11.</span> <span class="toc-text">åŒæºç­–ç•¥</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-cors-html%E5%AE%9E%E4%BE%8B1"><span class="toc-number">11.1.</span> <span class="toc-text">1.cors.htmlå®ä¾‹1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-Jsonp"><span class="toc-number">11.2.</span> <span class="toc-text">2.Jsonp</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1-jsonp%E5%8E%9F%E7%90%86%E5%BA%94%E7%94%A8"><span class="toc-number">11.2.1.</span> <span class="toc-text">1.jsonpåŸç†åº”ç”¨</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-jsonp%E6%A1%88%E4%BE%8B"><span class="toc-number">11.2.2.</span> <span class="toc-text">2.jsonpæ¡ˆä¾‹</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3-jquery%E5%AE%9E%E7%8E%B0jsonp"><span class="toc-number">11.2.3.</span> <span class="toc-text">3.jqueryå®ç°jsonp</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E8%AE%BE%E7%BD%AEcors%E5%93%8D%E5%BA%94%E5%A4%B4%E5%AE%9E%E7%8E%B0%E8%B7%A8%E5%9F%9F"><span class="toc-number">11.3.</span> <span class="toc-text">3.è®¾ç½®corså“åº”å¤´å®ç°è·¨åŸŸ</span></a></li></ol></li></ol></div></div></div><div class="tag-cloud"><div class="tag-cloud-tags"><a href="/tags/C/" style="font-size: 24px; color: #3383cd">C</a> <a href="/tags/C%E8%AF%95%E9%A2%98/" style="font-size: 30px; color: #0078e7">Cè¯•é¢˜</a> <a href="/tags/Echarts/" style="font-size: 15px; color: #8094a6">Echarts</a> <a href="/tags/Electron/" style="font-size: 15px; color: #8094a6">Electron</a> <a href="/tags/MongoDB/" style="font-size: 12px; color: #999">MongoDB</a> <a href="/tags/Node/" style="font-size: 21px; color: #4d89c0">Node</a> <a href="/tags/Promise/" style="font-size: 12px; color: #999">Promise</a> <a href="/tags/css/" style="font-size: 15px; color: #8094a6">css</a> <a href="/tags/flutter/" style="font-size: 12px; color: #999">flutter</a> <a href="/tags/hexo/" style="font-size: 12px; color: #999">hexo</a> <a href="/tags/jq/" style="font-size: 15px; color: #8094a6">jq</a> <a href="/tags/js/" style="font-size: 18px; color: #668eb3">js</a> <a href="/tags/js%E9%9D%A2%E8%AF%95%E9%A2%98/" style="font-size: 15px; color: #8094a6">jsé¢è¯•é¢˜</a> <a href="/tags/react/" style="font-size: 12px; color: #999">react</a> <a href="/tags/typescript/" style="font-size: 27px; color: #1a7eda">typescript</a></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://zzychaser.top/posts/d00bb8c7/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="å¤§èµµèŒ"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="å¤§èµµèŒçš„å°ç«™"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">ajaxä»£ç ç¬”è®°</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="åˆ›å»ºæ—¶é—´ï¼š2020-11-10 14:56:31" itemprop="dateCreated datePublished" datetime="2020-11-10T14:56:31+08:00">2020-11-10</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-04-28 18:31:53" itemprop="dateModified" datetime="2021-04-28T18:31:53+08:00">2021-04-28</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="æœ¬æ–‡å­—æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="æœ¬æ–‡å­—æ•°">3.7k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ—¶é•¿"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="é˜…è¯»æ—¶é•¿">18m</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E7%AC%94%E8%AE%B0/" style="--text-color:dimgray" itemprop="url" rel="index"><span itemprop="text">ç¬”è®°</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/js/" style="--text-color:#FFFF00"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">js</span></a><a class="tag-item" href="/tags/%E7%AC%94%E8%AE%B0/" style="--text-color:#FFD700"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">ç¬”è®°</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><p>ğŸ“–æœ¬åšå®¢å†…å®¹ä¾æ®<em>bç«™å°šç¡…è°·</em>ajaxè¯¾ç¨‹</p>
<h4 id="æœåŠ¡å™¨ç¯å¢ƒ"><a href="#æœåŠ¡å™¨ç¯å¢ƒ" class="headerlink" title="æœåŠ¡å™¨ç¯å¢ƒ"></a><code>æœåŠ¡å™¨ç¯å¢ƒ</code></h4><blockquote>
<p>Node</p>
<p>nodemon</p>
</blockquote>
<p><em>server.js</em></p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//å¼•å…¥express</span>
<span class="token keyword">const</span> <span class="token punctuation">&#123;</span> response <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">&#123;</span> access <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">&#123;</span> request <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//åˆ›å»ºåº”ç”¨å¯¹è±¡</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//åˆ›å»ºè·¯ç”±è§„åˆ™</span>
<span class="token comment">//requestæ˜¯å¯¹è¯·æ±‚æŠ¥æ–‡çš„å°è£…</span>
<span class="token comment">//responseæ˜¯å¯¹å“åº”æŠ¥æ–‡çš„å°è£…</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/server'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span>
    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Origin'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//è®¾ç½®å“åº”ä½“</span>
    <span class="token comment">// response.send('hello express!');</span>
    response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'hello ajax get-2!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/server'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span>
    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Origin'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//å“åº”å¤´--ç‰¹æ®Š</span>
    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Headers'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//è®¾ç½®å“åº”ä½“</span>
    <span class="token comment">// response.send('hello express!');</span>
    response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'hello ajax post!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">//allè¡¨ç¤ºå¯ä»¥æ¥æ”¶ä»»æ„ç±»å‹è¯·æ±‚</span>
app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'/server'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span>
    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Origin'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//å“åº”å¤´--ç‰¹æ®Š</span>
    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Headers'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//è®¾ç½®å“åº”ä½“</span>
    <span class="token comment">// response.send('hello express!');</span>
    response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'hello ajax post!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'/json-server'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span>
    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Origin'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//å“åº”å¤´--ç‰¹æ®Š</span>
    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Headers'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//å“åº”ä¸€ä¸ªæ•°æ®</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        name<span class="token operator">:</span> <span class="token string">'zy'</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">//å°†å¯¹è±¡è¿›è¡Œå­—ç¬¦ä¸²è½¬æ¢</span>
    <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è®¾ç½®å“åº”ä½“</span>
    response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">//å»¶æ—¶å“åº”</span>
app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'/delay'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span>
    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Origin'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Headers'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//è®¾ç½®å“åº”ä½“</span>
        response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'å»¶æ—¶å“åº”'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">2100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token operator">/</span> <span class="token comment">//jqueryæœåŠ¡ JQå‘é€ajaxè¯·æ±‚æ•°æ®</span>
app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'/jquery-server'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span>
    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Origin'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Headers'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// response.send('hello jquery ajax');</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">&#123;</span>name<span class="token operator">:</span><span class="token string">'å©·å®å„¿'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token string">'19'</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token operator">/</span>

<span class="token comment">//jqueryæœåŠ¡ JQé€šç”¨è¯·æ±‚</span>
app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'/jquery-server'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span>
    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Origin'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Headers'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'å©·å®å„¿-json'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">//axiosæœåŠ¡</span>
app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'/axios-server'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span>
    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Origin'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Headers'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'å©·å®å„¿-axiosåç«¯'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">//fetchæœåŠ¡</span>
app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'/fetch-server'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span>
    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Origin'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Headers'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'å©·å®å„¿-fetchåç«¯'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">//jsonpæœåŠ¡</span>
app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'/jsonp-server'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//è·å–æ•°æ®å¿…é¡»æ˜¯jsä»£ç </span>
    <span class="token comment">//    response.send(console.log('hello jsonp!'));</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        name<span class="token operator">:</span> <span class="token string">'ä¸­å›½nbï¼--åç«¯'</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token comment">//å°†æ•°æ®è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</span>
    <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è¿”å›ç»“æœ</span>
    response<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">datashow(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>str<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'/checkUsername'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        exist<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        msg<span class="token operator">:</span> <span class="token string">"ç”¨æˆ·åå·²å°†å­˜åœ¨!"</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token comment">//å°†æ•°æ®è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</span>
    <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è¿”å›ç»“æœ</span>
    response<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">datashow(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>str<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">//jq jsonp</span>
app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'/jquery-jsonp-server'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        name<span class="token operator">:</span> <span class="token string">"zzy"</span><span class="token punctuation">,</span>
        age<span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span>
        city<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"åŒ—äº¬"</span><span class="token punctuation">,</span> <span class="token string">"æ¹–åŒ—"</span><span class="token punctuation">,</span> <span class="token string">"å¹¿å·"</span><span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token comment">//å°†æ•°æ®è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</span>
    <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//æ¥æ”¶callbackå‚æ•°</span>
    <span class="token keyword">let</span> cb <span class="token operator">=</span> request<span class="token punctuation">.</span>query<span class="token punctuation">.</span>callback<span class="token punctuation">;</span>
    <span class="token comment">//è¿”å›ç»“æœ</span>
    response<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>cb<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>str<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">//jq cors</span>
app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'/cors-server'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//è®¾ç½®å“åº”å¤´</span>
    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Origin'</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Header'</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Method'</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ç‰¹å®šç½‘ç«™/ç«¯å£è®¿é—®</span>
    <span class="token comment">// response.setHeader('Access-Control-Allow-Origin',"http://127.0.0.1:8000/");</span>
    response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"hello jquery cors!"</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>


<span class="token comment">//ç›‘å¬ç«¯å£å¯åŠ¨æœåŠ¡</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'8000æœåŠ¡å·²ç»æˆåŠŸå¯åŠ¨ï¼'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'8000æœåŠ¡å¯åŠ¨å¤±è´¥ï¼'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code></pre>

<h4 id="1-get-åŸç”Ÿajax"><a href="#1-get-åŸç”Ÿajax" class="headerlink" title="1.get  åŸç”Ÿajax"></a>1.get  åŸç”Ÿajax</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>ç‚¹å‡»å‘é€è¯·æ±‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>result<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">//è·å–buttonå…ƒç´ </span>
    <span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'result'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//ç»‘å®šäº‹ä»¶</span>
    btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// console.log('success');</span>
        <span class="token comment">//1.åˆ›å»ºå¯¹è±¡</span>
        <span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2.åˆå§‹åŒ– è®¾ç½®è¯·æ±‚æ–¹æ³•å’Œurl</span>
        <span class="token comment">// æ¥å‚æ•°åœ¨urlåä»¥ï¼Ÿå¼€å§‹ï¼Œå¤šä¸ªå€¼ç”¨&amp;éš”å¼€</span>
        xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'http://127.0.0.1:8000/server?name="å©·å®å„¿"&amp;age=18'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//3.å‘é€</span>
        xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//4.äº‹ä»¶ç»‘å®š å¤„ç†æœåŠ¡ç«¯è¿”å›çš„ç»“æœ</span>
        <span class="token operator">/</span> 
        on <span class="token operator">-</span><span class="token operator">></span> when å½“<span class="token operator">...</span><span class="token punctuation">.</span>æ—¶
        readystate æ˜¯xhrå¯¹è±¡ä¸­çš„å±æ€§ï¼Œè¡¨ç¤ºçŠ¶æ€  <span class="token number">0</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span>
        change æ”¹å˜
        <span class="token operator">/</span>
        xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">//åˆ¤æ–­ï¼ˆæœåŠ¡å™¨è¿”å›ç»“æœï¼‰</span>
            <span class="token operator">/</span>  å­˜æœ‰ XMLHttpRequest çš„çŠ¶æ€ã€‚ä» <span class="token number">0</span> åˆ° <span class="token number">4</span> å‘ç”Ÿå˜åŒ–ã€‚
             <span class="token number">0</span><span class="token operator">:</span> è¯·æ±‚æœªåˆå§‹åŒ–
             <span class="token number">1</span><span class="token operator">:</span> æœåŠ¡å™¨è¿æ¥å·²å»ºç«‹
             <span class="token number">2</span><span class="token operator">:</span> è¯·æ±‚å·²æ¥æ”¶
             <span class="token number">3</span><span class="token operator">:</span> è¯·æ±‚å¤„ç†ä¸­
             <span class="token number">4</span><span class="token operator">:</span> è¯·æ±‚å·²å®Œæˆï¼Œä¸”å“åº”å·²å°±ç»ª <span class="token operator">/</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token comment">//åˆ¤æ–­å“åº”çŠ¶æ€ç  2xx 3xxx 4xx 5xx</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//2xx æˆåŠŸ</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">>=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> xhr<span class="token punctuation">.</span>status <span class="token operator">&lt;=</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                       <span class="token operator">/</span>  <span class="token comment">//å¤„ç†ç»“æœ è¡Œ å¤´ ç©ºè¡Œ ä½“</span>
                        <span class="token comment">//1.å“åº”è¡Œ </span>
                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"çŠ¶æ€ç ç»“æœï¼š"</span> <span class="token operator">+</span> xhr<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment">//å“åº”çŠ¶æ€å­—ç¬¦ä¸²</span>
                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment">//æ‰€æœ‰å“åº”å¤´</span>
                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span><span class="token function">getAllResponseHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment">//å“åº”ä½“</span>
                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">/</span>

                        <span class="token comment">//è®¾ç½®resultçš„æ–‡æœ¬</span>
                        result<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> xhr<span class="token punctuation">.</span>response<span class="token punctuation">;</span>
                    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>

                    <span class="token punctuation">&#125;</span>

                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h4 id="2-post-åŸç”Ÿajax"><a href="#2-post-åŸç”Ÿajax" class="headerlink" title="2.post åŸç”Ÿajax"></a>2.post åŸç”Ÿajax</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>result<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
        <span class="token comment">//è·å–å…ƒç´ å¯¹è±¡</span>
        <span class="token keyword">const</span> result <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'result'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//ç»‘å®šäº‹ä»¶</span>
        result<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"mouseover"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">// console.log("å©·å®å„¿");</span>
            <span class="token comment">//åˆ›å»ºå¯¹è±¡</span>
            <span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//åˆå§‹åŒ–    è®¾ç½®ç±»å‹ä¸url</span>
            xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> <span class="token string">'http://127.0.0.1:8000/server'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//è®¾ç½®è¯·æ±‚å¤´</span>
            <span class="token operator">/</span> 
            Content <span class="token operator">-</span> Type è®¾ç½®è¯·æ±‚ä½“ç±»å‹
            application<span class="token operator">/</span>x<span class="token operator">-</span>www<span class="token operator">-</span>form<span class="token operator">-</span>urlencoded è¯·æ±‚ä½“å­—ç¬¦ä¸²æ•°æ®ç±»å‹ <span class="token operator">--</span>å›ºå®šå†™æ³•
            <span class="token operator">/</span>
            xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">'Content-Type'</span><span class="token punctuation">,</span> <span class="token string">'application/x-www-form-urlencoded'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//è‡ªå®šä¹‰è¯·æ±‚å¤´</span>
            xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'tingbao'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//å‘é€</span>
            xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'a=100&amp;b=200&amp;c=300'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// xhr.send('a=100&amp;b=200&amp;c=300');</span>
            <span class="token comment">// xhr.send('a:100&amp;b:200&amp;c:300');</span>

            <span class="token comment">//äº‹ä»¶ç»‘å®š</span>
            xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token comment">//åˆ¤æ–­</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">>=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> xhr<span class="token punctuation">.</span>status <span class="token operator">&lt;=</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                        <span class="token comment">//å¤„ç†æœåŠ¡å™¨è¿”å›ç»“æœ</span>
                        result<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> xhr<span class="token punctuation">.</span>response<span class="token punctuation">;</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h4 id="3-ajaxç½‘ç»œè¶…æ—¶ä¸ç½‘ç»œå¼‚å¸¸"><a href="#3-ajaxç½‘ç»œè¶…æ—¶ä¸ç½‘ç»œå¼‚å¸¸" class="headerlink" title="3.ajaxç½‘ç»œè¶…æ—¶ä¸ç½‘ç»œå¼‚å¸¸"></a>3.ajaxç½‘ç»œè¶…æ—¶ä¸ç½‘ç»œå¼‚å¸¸</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>ç‚¹å‡»å‘é€è¯·æ±‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>result<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
       <span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
       <span class="token keyword">const</span> result <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'result'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
           <span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token comment">//è¶…æ—¶è¯·æ±‚</span>
           xhr<span class="token punctuation">.</span>timeout <span class="token operator">=</span> <span class="token number">1500</span><span class="token punctuation">;</span>
           <span class="token comment">//è¶…æ—¶å›è°ƒ</span>
           xhr<span class="token punctuation">.</span><span class="token function-variable function">ontimeout</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
               <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"ç½‘ç»œå¼‚å¸¸ï¼Œè¯·è¯·ç¨å€™é‡è¯•ï¼"</span><span class="token punctuation">)</span>
           <span class="token punctuation">&#125;</span>
           <span class="token comment">//ç½‘ç»œå¼‚å¸¸å›è°ƒ</span>
           xhr<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
               <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'ä½ çš„ç½‘ç»œä¼¼ä¹å‡ºäº†ä»€ä¹ˆé—®é¢˜...'</span><span class="token punctuation">)</span>
           <span class="token punctuation">&#125;</span>

           xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token string">'http://127.0.0.1:8000/delay'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
               <span class="token comment">//åˆ¤æ–­</span>
               <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                   <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">>=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> xhr<span class="token punctuation">.</span>status <span class="token operator">&lt;=</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                       result<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> xhr<span class="token punctuation">.</span>response<span class="token punctuation">;</span>
                   <span class="token punctuation">&#125;</span>
               <span class="token punctuation">&#125;</span>
           <span class="token punctuation">&#125;</span>
       <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<h4 id="4-ajaxå–æ¶ˆè¯·æ±‚"><a href="#4-ajaxå–æ¶ˆè¯·æ±‚" class="headerlink" title="4.ajaxå–æ¶ˆè¯·æ±‚"></a>4.ajaxå–æ¶ˆè¯·æ±‚</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>button<span class="token operator">></span>ç‚¹å‡»å‘é€<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
    <span class="token operator">&lt;</span>button<span class="token operator">></span>ç‚¹å‡»å–æ¶ˆ<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>

    <span class="token operator">&lt;</span>script<span class="token operator">></span>
        <span class="token comment">//è·å–å…ƒç´ å¯¹è±¡</span>
        <span class="token keyword">const</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        btns<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            x<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span><span class="token string">"http://127.0.0.1:8000/delay"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            x<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">//abort</span>
            btns<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                x<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre>

<h4 id="5-ajaxé‡å¤å‘é€è¯·æ±‚"><a href="#5-ajaxé‡å¤å‘é€è¯·æ±‚" class="headerlink" title="5.ajaxé‡å¤å‘é€è¯·æ±‚"></a>5.ajaxé‡å¤å‘é€è¯·æ±‚</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>button<span class="token operator">></span>ç‚¹å‡»å‘é€<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>

   <span class="token operator">&lt;</span>script<span class="token operator">></span>
       <span class="token comment">//è·å–å…ƒç´ å¯¹è±¡</span>
       <span class="token keyword">const</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
       <span class="token comment">//æ ‡è¯†å˜é‡</span>
       <span class="token keyword">let</span> isSending <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//æ˜¯å¦æ­£åœ¨å‘é€ajaxè¯·æ±‚</span>

       btns<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

           <span class="token comment">//åˆ¤æ–­æ ‡è¯†å˜é‡</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span>isSending<span class="token punctuation">)</span> x<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¦‚æœæ­£åœ¨å‘é€è¯·æ±‚ï¼Œåˆ™å–æ¶ˆè¯·æ±‚ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„è¯·æ±‚ </span>
           x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token comment">//ä¿®æ”¹ æ ‡è¯†å˜é‡å€¼</span>
           isSending <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
           x<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token string">"http://127.0.0.1:8000/delay"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           x<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           x<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
               <span class="token comment">//åˆ¤æ–­</span>
               <span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                   isSending <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
               <span class="token punctuation">&#125;</span>
           <span class="token punctuation">&#125;</span>
           <span class="token comment">//abort</span>
           btns<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
               x<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">&#125;</span>
       <span class="token punctuation">&#125;</span>
   <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre>

<h4 id="6-AJAX-æœåŠ¡ç«¯å“åº”json"><a href="#6-AJAX-æœåŠ¡ç«¯å“åº”json" class="headerlink" title="6.AJAX æœåŠ¡ç«¯å“åº”json"></a>6.AJAX æœåŠ¡ç«¯å“åº”json</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"result"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>script<span class="token operator">></span>
        <span class="token keyword">const</span> result <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'result'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//ç»‘å®šé”®ç›˜æŒ‰ä¸‹äº‹ä»¶</span>
        window<span class="token punctuation">.</span><span class="token function-variable function">onkeydown</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">// console.log('test');</span>
            <span class="token comment">//å‘é€è¯·æ±‚</span>
            <span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//è®¾ç½®å“åº”ä½“æ•°æ®çš„ç±»å‹</span>
            xhr<span class="token punctuation">.</span>responseType <span class="token operator">=</span> <span class="token string">'json'</span>
            <span class="token comment">//åˆå§‹åŒ–</span>
            xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'get'</span><span class="token punctuation">,</span> <span class="token string">'http://127.0.0.1:8000/json-server'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//å‘é€</span>
            xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//äº‹ä»¶ç»‘å®š</span>
            xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token comment">//åˆ¤æ–­</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">>=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> xhr<span class="token punctuation">.</span>status <span class="token operator">&lt;=</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                        <span class="token comment">//å¤„ç†æœåŠ¡å™¨è¿”å›ç»“æœ</span>
                        <span class="token comment">//     console.log(xhr.response);</span>
                        <span class="token comment">//    result.innerHTML = xhr.response;</span>
                        <span class="token comment">//1.æ‰‹åŠ¨å¯¹æ•°æ®è¿›è¡Œè½¬åŒ–</span>
                        <span class="token comment">// let data = JSON.parse(xhr.response);</span>
                        <span class="token comment">// console.log(data);</span>
                        <span class="token comment">// result.innerHTML = data.name;</span>

                        <span class="token comment">//2.è‡ªåŠ¨è½¬æ¢</span>
                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        result<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> xhr<span class="token punctuation">.</span>response<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre>

<h4 id="7-ajax-jqueryå‘é€ajaxè¯·æ±‚"><a href="#7-ajax-jqueryå‘é€ajaxè¯·æ±‚" class="headerlink" title="7.ajax-jqueryå‘é€ajaxè¯·æ±‚"></a><font style="color:skyblue">7.ajax-jqueryå‘é€ajaxè¯·æ±‚</font></h4><p>âš ï¸ æ³¨æ„jqueryå¼•å…¥</p>
<pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page-header<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>jqueryå‘é€ajaxè¯·æ±‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>GET<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-success<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>POST<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-warning<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>é€šç”¨å‹æ–¹æ³•AJAX<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
        <span class="token comment">//get</span>
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            $<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'http://127.0.0.1:8000/jquery-server'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span>a<span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">,</span>b<span class="token operator">:</span><span class="token number">200</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">'json'</span><span class="token punctuation">)</span><span class="token comment">//åŠ jsonæ•°æ®ç±»å‹--dataæ˜¯å¯¹è±¡</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//post</span>
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            $<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'http://127.0.0.1:8000/jquery-server'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span>a<span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">,</span>b<span class="token operator">:</span><span class="token number">200</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token comment">//ä¸åŠ jsonæ•°æ®ç±»å‹--dataæ˜¯å­—ç¬¦ä¸²</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<p><font style="color:skyblue">8.AJAX-jQueryé€šç”¨æ–¹æ³•å‘é€AJAXè¯·æ±‚</font></p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"container"</span><span class="token operator">></span>
       <span class="token operator">&lt;</span>h2 <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"page-header"</span><span class="token operator">></span>jqueryå‘é€ajaxè¯·æ±‚<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>
       <span class="token operator">&lt;</span>button <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"btn btn-primary"</span><span class="token operator">></span><span class="token constant">GET</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
       <span class="token operator">&lt;</span>button <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"btn btn-success"</span><span class="token operator">></span><span class="token constant">POST</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
       <span class="token operator">&lt;</span>button <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"btn btn-warning"</span><span class="token operator">></span>é€šç”¨å‹æ–¹æ³•<span class="token constant">AJAX</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
   <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
   <span class="token operator">&lt;</span>script<span class="token operator">></span>
       <span class="token comment">//get</span>
       <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
           $<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'http://127.0.0.1:8000/jquery-server'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> a<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
               console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'json'</span><span class="token punctuation">)</span>
       <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token comment">//post</span>
       <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
           $<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'http://127.0.0.1:8000/jquery-server'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> a<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
               console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
       <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token comment">//é€šç”¨æ–¹æ³•</span>
       <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
           $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
               <span class="token comment">//url</span>
               url<span class="token operator">:</span> <span class="token string">'http://127.0.0.1:8000/jquery-server'</span><span class="token punctuation">,</span>
               <span class="token comment">//å‚æ•°</span>
               data<span class="token operator">:</span> <span class="token punctuation">&#123;</span> a<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
               <span class="token comment">//è¯·æ±‚ç±»å‹</span>
               type<span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
               <span class="token comment">//å“åº”ä½“ç»“æœ</span>
               dataType<span class="token operator">:</span> <span class="token string">'json'</span><span class="token punctuation">,</span>
               <span class="token comment">//æˆåŠŸçš„å›è°ƒ</span>
               <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
               <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
               <span class="token comment">//è¶…æ—¶æ—¶é—´</span>
               timeout<span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span>
               <span class="token comment">//å¤±è´¥çš„å›è°ƒ</span>
               <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å‡ºé”™å•¦ï¼'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
               <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
               <span class="token comment">//è®¾ç½®å¤´ä¿¡æ¯</span>
               headers<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                   c<span class="token operator">:</span><span class="token number">300</span><span class="token punctuation">,</span>
                   d<span class="token operator">:</span><span class="token number">200</span>
               <span class="token punctuation">&#125;</span>
           <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
       <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre>

<h4 id="8-axios-å‘é€-AJAXè¯·æ±‚"><a href="#8-axios-å‘é€-AJAXè¯·æ±‚" class="headerlink" title="8.axios å‘é€ AJAXè¯·æ±‚"></a><font style="color:gold">8.axios å‘é€ AJAXè¯·æ±‚</font></h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//axioså¼•å…¥</span>
<span class="token operator">&lt;</span>script crossorigin<span class="token operator">=</span><span class="token string">"anonymous"</span> src<span class="token operator">=</span><span class="token string">"https://cdn.bootcdn.net/ajax/libs/axios/0.19.2/axios.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre>

<pre class="language-json" data-language="json"><code class="language-json">&lt;button>GET&lt;/button>
    &lt;button>POST&lt;/button>
    &lt;button>AJAX&lt;/button>

    &lt;script>
        <span class="token comment">// https://github.com/axios/axios</span>
        const btns = document.querySelectorAll('button');

        <span class="token comment">//é…ç½® baseURL</span>
        axios.defaults.baseURL = 'http<span class="token operator">:</span><span class="token comment">//127.0.0.1:8000';</span>

        btns<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>.onclick = function () <span class="token punctuation">&#123;</span>
            <span class="token comment">//GET è¯·æ±‚</span>
            axios.get('/axios-server'<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
                <span class="token comment">//url å‚æ•°</span>
                params<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                    id<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
                    vip<span class="token operator">:</span> 'å©·å®get'
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token comment">//è¯·æ±‚å¤´ä¿¡æ¯</span>
                headers<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                    name<span class="token operator">:</span> 'axios-get'<span class="token punctuation">,</span>
                    age<span class="token operator">:</span> <span class="token number">20</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>).then(value => <span class="token punctuation">&#123;</span>
                console.log(value);
            <span class="token punctuation">&#125;</span>);
        <span class="token punctuation">&#125;</span>
        
        <span class="token comment">//é€šç”¨æ–¹æ³•</span>
        btns<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>.onclick = function () <span class="token punctuation">&#123;</span>
            axios.post('/axios-server'<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
                username<span class="token operator">:</span> 'admin-å©·å®å„¿'<span class="token punctuation">,</span>
                password<span class="token operator">:</span> 'admin'
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
                <span class="token comment">//url </span>
                params<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                    id<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
                    vip<span class="token operator">:</span> <span class="token number">9</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token comment">//è¯·æ±‚å¤´å‚æ•°</span>
                headers<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                    height<span class="token operator">:</span> <span class="token number">180</span><span class="token punctuation">,</span>
                    weight<span class="token operator">:</span> <span class="token number">180</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>);
        <span class="token punctuation">&#125;</span>
    
        btns<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>.onclick = function()<span class="token punctuation">&#123;</span>
            axios(<span class="token punctuation">&#123;</span>
                <span class="token comment">//è¯·æ±‚æ–¹æ³•</span>
                method <span class="token operator">:</span> 'POST'<span class="token punctuation">,</span>
                <span class="token comment">//url</span>
                url<span class="token operator">:</span> '/axios-server'<span class="token punctuation">,</span>
                <span class="token comment">//urlå‚æ•°</span>
                params<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                    vip<span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">,</span>
                    level<span class="token operator">:</span><span class="token number">30</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token comment">//å¤´ä¿¡æ¯</span>
                headers<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                    a<span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">,</span>
                    b<span class="token operator">:</span><span class="token number">200</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token comment">//è¯·æ±‚ä½“å‚æ•°</span>
                data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                    username<span class="token operator">:</span> 'admin-post'<span class="token punctuation">,</span>
                    password<span class="token operator">:</span> 'admin'
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>).then(response=><span class="token punctuation">&#123;</span>
                <span class="token comment">//å“åº”çŠ¶æ€ç </span>
                console.log(response.status);
                <span class="token comment">//å“åº”çŠ¶æ€å­—ç¬¦ä¸²</span>
                console.log(response.statusText);
                <span class="token comment">//å“åº”å¤´ä¿¡æ¯</span>
                console.log(response.headers);
                <span class="token comment">//å“åº”ä½“</span>
                console.log(response.data);
            <span class="token punctuation">&#125;</span>)
        <span class="token punctuation">&#125;</span>
    &lt;/script></code></pre>

<h4 id="9-fetch-å‘é€-AJAXè¯·æ±‚"><a href="#9-fetch-å‘é€-AJAXè¯·æ±‚" class="headerlink" title="9.fetch å‘é€ AJAXè¯·æ±‚"></a><font style="color:gold">9.fetch å‘é€ AJAXè¯·æ±‚</font></h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>button<span class="token operator">></span><span class="token constant">AJAX</span>è¯·æ±‚<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
    <span class="token operator">&lt;</span>script<span class="token operator">></span>
        <span class="token comment">//æ–‡æ¡£åœ°å€</span>
        <span class="token comment">//https://developer.mozilla.org/zh-CN/docs/Web/API/WindowOrWorkerGlobalScope/fetch</span>
        
        <span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'http://127.0.0.1:8000/fetch-server?vip=10'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
                <span class="token comment">//è¯·æ±‚æ–¹æ³•</span>
                method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
                <span class="token comment">//è¯·æ±‚å¤´</span>
                headers<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                    name<span class="token operator">:</span><span class="token string">'tingbao'</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token comment">//è¯·æ±‚ä½“</span>
                body<span class="token operator">:</span> <span class="token string">'username=admin&amp;password=admin'</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
                <span class="token comment">// return response.text();</span>
                <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre>

<h4 id="åŒæºç­–ç•¥"><a href="#åŒæºç­–ç•¥" class="headerlink" title="åŒæºç­–ç•¥"></a><font style="color:lightpink;font-weight:blod;">åŒæºç­–ç•¥</font></h4><p>æ€»åç«¯ç¯å¢ƒä»£ç :<code>server.js</code></p>
<pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">&#123;</span> response <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">&#123;</span> request <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/home'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//å“åº”ä¸€ä¸ªé¡µé¢</span>
    response<span class="token punctuation">.</span><span class="token function">sendFile</span><span class="token punctuation">(</span>__dirname <span class="token operator">+</span> <span class="token string">'/cors.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/data'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'corsåç«¯æ•°æ®'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>



<span class="token comment">//ç›‘å¬ç«¯å£å¯åŠ¨æœåŠ¡</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8008</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'corsæœåŠ¡å·²ç»æˆåŠŸå¯åŠ¨ï¼'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'corsæœåŠ¡å¯åŠ¨å¤±è´¥ï¼'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code></pre>

<h5 id="1-cors-htmlå®ä¾‹1"><a href="#1-cors-htmlå®ä¾‹1" class="headerlink" title="1.cors.htmlå®ä¾‹1"></a>1.cors.htmlå®ä¾‹1</h5><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">bgcolor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lightpink<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>éš”å£è€ç‹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>ç‚¹å‡»è·å–æ•°æ®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//è¿™é‡Œæ»¡è¶³åŒæºï¼Œæ‰€ä»¥urlå¯ä»¥ç®€å†™</span>
            x<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token string">'/data'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//å‘é€</span>
            x<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//</span>
            x<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token comment">//åˆ¤æ–­</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token punctuation">.</span>status <span class="token operator">>=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> x<span class="token punctuation">.</span>status <span class="token operator">&lt;=</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                        <span class="token comment">//å¤„ç†æœåŠ¡å™¨è¿”å›ç»“æœ</span>
                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
</code></pre>

<h5 id="2-Jsonp"><a href="#2-Jsonp" class="headerlink" title="2.Jsonp"></a>2.Jsonp</h5><p>å½“å‰jsonpé¡¹ç›®ç›®å½•ç¯å¢ƒ <code>app.js</code></p>
<pre class="language-none"><code class="language-none">window.onload &#x3D; function () &#123;
    const data &#x3D; &#123;
        name: &#39;ä¸­å›½nbï¼&#39;
    &#125;;


    datashow(data);
    console.log(data);
&#125;
</code></pre>

<h6 id="1-jsonpåŸç†åº”ç”¨"><a href="#1-jsonpåŸç†åº”ç”¨" class="headerlink" title="1.jsonpåŸç†åº”ç”¨"></a>1.jsonpåŸç†åº”ç”¨</h6><pre class="language-js" data-language="js"><code class="language-js">
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"result"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"./js/app.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span> <span class="token operator">--</span><span class="token operator">></span>

    <span class="token operator">&lt;</span>script<span class="token operator">></span>
        <span class="token comment">//å¤„ç†æ•°æ®</span>
        <span class="token keyword">function</span> <span class="token function">datashow</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">const</span> result <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'result'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            result<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> data<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>

<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"http:127.0.0.1:8000/jsonp-server"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre>

<h6 id="2-jsonpæ¡ˆä¾‹"><a href="#2-jsonpæ¡ˆä¾‹" class="headerlink" title="2.jsonpæ¡ˆä¾‹"></a>2.jsonpæ¡ˆä¾‹</h6><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>body<span class="token operator">></span>
    
        ç”¨æˆ·å<span class="token operator">:</span> <span class="token operator">&lt;</span>input id<span class="token operator">=</span><span class="token string">"shuru"</span> type<span class="token operator">=</span><span class="token string">"text"</span> placeholder<span class="token operator">=</span><span class="token string">"è¯·è¾“å…¥æ–‡æœ¬"</span><span class="token operator">></span>
   
    <span class="token operator">&lt;</span>p<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&lt;</span>script<span class="token operator">></span>
        <span class="token comment">//è·å–é¡µé¢å…ƒç´ </span>
        <span class="token keyword">const</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//å£°æ˜datashowå‡½æ•°</span>
        <span class="token keyword">function</span> <span class="token function">datashow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            input<span class="token punctuation">.</span>style<span class="token punctuation">.</span>border <span class="token operator">=</span> <span class="token string">'1px soild red'</span><span class="token punctuation">;</span>
            <span class="token comment">//ä¿®æ”¹pæ ‡ç­¾çš„æç¤ºæ–‡æœ¬ä¿¡æ¯</span>
            p<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> data<span class="token punctuation">.</span>msg<span class="token punctuation">;</span>

        <span class="token punctuation">&#125;</span> 
        
        <span class="token comment">//ç»‘å®šäº‹ä»¶</span>
        input<span class="token punctuation">.</span><span class="token function-variable function">onblur</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">//è·å–ç”¨æˆ·è¾“å…¥å€¼</span>
            <span class="token keyword">let</span> username <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"å‰ç«¯æ•°æ®:"</span> <span class="token operator">+</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//å‘åç«¯æœåŠ¡å‘é€è¯·æ±‚,ç›‘æµ‹ç”¨æˆ·åæ˜¯å¦å­˜åœ¨</span>
            <span class="token comment">// 1.åˆ›å»ºscriptæ ‡ç­¾</span>
            <span class="token keyword">const</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//2.è®¾ç½®srcå±æ€§å€¼</span>
            script<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'http:127.0.0.1:8000/checkUsername'</span><span class="token punctuation">;</span>
            <span class="token comment">//3.å°†script æ’å…¥é¡µé¢ä¸­</span>
            document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">&#125;</span>

    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span></code></pre>

<h6 id="3-jqueryå®ç°jsonp"><a href="#3-jqueryå®ç°jsonp" class="headerlink" title="3.jqueryå®ç°jsonp"></a>3.jqueryå®ç°jsonp</h6><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
        <span class="token selector">#result</span> <span class="token punctuation">&#123;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
            <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
            <span class="token property">border</span><span class="token punctuation">:</span> 1px solid skyblue<span class="token punctuation">;</span>
            <span class="token property">margin</span><span class="token punctuation">:</span> 20px auto<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token selector">#result:hover</span> <span class="token punctuation">&#123;</span>
            <span class="token property">border</span><span class="token punctuation">:</span> 2px solid pink<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token selector">button</span> <span class="token punctuation">&#123;</span>
            <span class="token property">margin</span><span class="token punctuation">:</span> 10px auto <span class="token important">!important</span><span class="token punctuation">;</span>
            <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
            <span class="token property">height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
            <span class="token property">line-height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
            <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
            <span class="token property">padding</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
            <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
            <span class="token property">border</span><span class="token punctuation">:</span> 1px solid yellowgreen<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token selector">button:hover</span> <span class="token punctuation">&#123;</span>
            <span class="token property">background-color</span><span class="token punctuation">:</span> tomato<span class="token punctuation">;</span>
            <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>ç‚¹å‡»å‘é€jq-jsonpè¯·æ±‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>result<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">// callbackå¿…å¡«</span>
            $<span class="token punctuation">.</span><span class="token function">getJSON</span><span class="token punctuation">(</span><span class="token string">'http:127.0.0.1:8000/jquery-jsonp-server?callback=?'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#result'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
                åç§°:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>data<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">&lt;br>
                å¹´é¾„:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>data<span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">&lt;br>
                åŸå¸‚:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>data<span class="token punctuation">.</span>city<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">
                </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></code></pre>

<h5 id="3-è®¾ç½®corså“åº”å¤´å®ç°è·¨åŸŸ"><a href="#3-è®¾ç½®corså“åº”å¤´å®ç°è·¨åŸŸ" class="headerlink" title="3.è®¾ç½®corså“åº”å¤´å®ç°è·¨åŸŸ"></a>3.è®¾ç½®corså“åº”å¤´å®ç°è·¨åŸŸ</h5><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>button<span class="token operator">></span>å‘é€è¯·æ±‚<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
   <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"result"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>

   <span class="token operator">&lt;</span>script<span class="token operator">></span>
       <span class="token keyword">const</span> result <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'result'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
           <span class="token comment">//åˆ›å»ºå¯¹è±¡</span>
           <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

           <span class="token comment">//åˆå§‹åŒ–è®¾ç½®</span>
           x<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span>

           <span class="token comment">//å‘é€</span>
           x<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

           <span class="token comment">//ç»‘å®šäº‹ä»¶</span>
           x<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
               <span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                   <span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token punctuation">.</span>status <span class="token operator">>=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> x<span class="token punctuation">.</span>status <span class="token operator">&lt;=</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
                       
                   <span class="token punctuation">&#125;</span>
               <span class="token punctuation">&#125;</span>
           <span class="token punctuation">&#125;</span>


       <span class="token punctuation">&#125;</span>

   <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre>

<pre class="language-json" data-language="json"><code class="language-json">$.ajax() åŸºäºåŸç”ŸJSçš„AJAXå››æ­¥æ“ä½œè¿›è¡Œå°è£…
     $.ajax(<span class="token punctuation">[</span>URL<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span>)
     $.ajax(<span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span>)  URLåœ¨é…ç½®é¡¹ä¸­ï¼ˆæ¨èï¼‰
     $.get/post/getJSON/getScript()
     ......
  é…ç½®é¡¹ä¿¡æ¯
     url<span class="token operator">:</span>è¯·æ±‚çš„APIæ¥å£åœ°å€
     method<span class="token operator">:</span>HTTPè¯·æ±‚æ–¹å¼ï¼Œé»˜è®¤GET
     data<span class="token operator">:</span>ä¼ é€’ç»™æœåŠ¡å™¨çš„ä¿¡æ¯ï¼Œé»˜è®¤<span class="token null keyword">null</span>ï¼ˆå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œå¯ä»¥æ˜¯å¯¹è±¡ï¼Œè€Œä¸”å¦‚æœGETç³»åˆ—è¯·æ±‚ï¼ŒJQä¼šè‡ªåŠ¨æŠŠä¿¡æ¯æ‹¼æ¥åˆ°URLçš„æœ«å°¾ï¼ŒåŸºäºé—®å·ä¼ å‚ä¼ é€’ç»™æœåŠ¡å™¨ï¼›å¦‚æœæ˜¯POSTè¯·æ±‚ï¼ŒJQä¼šåŸºäºè¯·æ±‚ä¸»ä½“ï¼ŒæŠŠä¿¡æ¯ä¼ é€’ç»™æœåŠ¡å™¨ï¼‰
     dataType<span class="token operator">:</span>é¢„è®¾æœåŠ¡å™¨è¿”å›çš„ç»“æœæ ¼å¼ï¼ˆæœåŠ¡å™¨è¿”å›çš„ä¸€èˆ¬éƒ½æ˜¯JSONæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœæˆ‘ä»¬è®¾ç½®äº†DATA-TYPEï¼ŒJQä¼šæ ¹æ®è®¾ç½®çš„ç±»å‹ï¼ŒæŠŠæœåŠ¡å™¨è¿”å›çš„ç»“æœå¤„ç†ä¸ºå¯¹åº”çš„æ ¼å¼ï¼‰ï¼Œæ”¯æŒçš„å†…å®¹text / json / xml / html / script / jsonp(è·¨åŸŸ) =>ä¸å½±å“æœåŠ¡å™¨è¿”å›çš„ç»“æœï¼Œåªæ˜¯æŠŠæœåŠ¡å™¨è¿”å›çš„ç»“æœè¿›è¡ŒäºŒæ¬¡å¤„ç†
     async<span class="token operator">:</span>æ˜¯å¦ä¸ºå¼‚æ­¥æ“ä½œï¼Œé»˜è®¤æ˜¯TRUEï¼Œä»£è¡¨å¼‚æ­¥æ“ä½œ
     cache<span class="token operator">:</span>ç¼“å­˜å¤„ç†ï¼Œåªå¯¹GETç³»åˆ—è¯·æ±‚æœ‰ä½œç”¨ï¼Œé»˜è®¤æ˜¯TRUEä¸å¤„ç†ç¼“å­˜ï¼Œå½“æˆ‘ä»¬è®¾ç½®FALSEåï¼ŒJQå¸®æˆ‘ä»¬åœ¨URLçš„æœ«å°¾è®¾ç½®ä¸€ä¸ªéšæœºæ•°
     contentType<span class="token operator">:</span>è®¾ç½®ä¼ é€’ç»™æœåŠ¡å™¨å†…å®¹çš„æ ¼å¼ç±»å‹ é»˜è®¤æ˜¯<span class="token string">"application/x-www-form-urlencoded"</span>
         å®¢æˆ·ç«¯ä¼ é€’ç»™æœåŠ¡å™¨ä¿¡æ¯çš„æ ¼å¼ï¼ˆç±»å‹ä¸€èˆ¬éƒ½æ˜¯å­—ç¬¦ä¸²ï¼‰ï¼Œå¸¸ç”¨çš„ï¼š
         form-dataè¡¨å•æ•°æ®ï¼šJSONæ ¼å¼ '<span class="token punctuation">&#123;</span><span class="token property">"name"</span><span class="token operator">:</span><span class="token string">"xxx"</span><span class="token punctuation">,</span><span class="token property">"lx"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">&#125;</span>'
         x-www-form-urlencodedï¼šname=xxx&amp;lx=<span class="token number">1</span>
         rawï¼šçº¯æ–‡æœ¬æ ¼å¼
     headers<span class="token operator">:</span>è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯ï¼Œä»–æ˜¯ä¸€ä¸ªå¯¹è±¡
     timeout<span class="token operator">:</span>è®¾ç½®è¶…æ—¶çš„æ—¶é—´
     success<span class="token operator">:</span>å›è°ƒå‡½æ•°ï¼Œå½“æ•°æ®è¯·æ±‚æˆåŠŸæ‰§è¡Œï¼Œæ–¹æ³•ä¸­çš„å‚æ•°å°±æ˜¯ä»æœåŠ¡å™¨è·å–çš„ç»“æœ
     error<span class="token operator">:</span>å›è°ƒå‡½æ•°ï¼Œæ•°æ®è¯·æ±‚å¤±è´¥æ‰§è¡Œï¼Œæ–¹æ³•ä¸­çš„å‚æ•°æ˜¯é”™è¯¯ä¿¡æ¯

</code></pre>

</div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="æ‰“èµ" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">I'm so cute. Please give me money.</div><div id="qr" style="display:none;"><div style="display:inline-block"></div><div style="display:inline-block"></div><div style="display:inline-block"></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>å¤§èµµèŒ</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="http://zzychaser.top/posts/d00bb8c7/" title="ajaxä»£ç ç¬”è®°">http://zzychaser.top/posts/d00bb8c7/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> è®¸å¯åè®®ã€‚</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/posts/9f83443/" rel="prev" title="èœé¸¡æ‰‹å†™é˜²æŠ–/èŠ‚æµå‡½æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">èœé¸¡æ‰‹å†™é˜²æŠ–/èŠ‚æµå‡½æ•°</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/posts/77efdb5/" rel="next" title="javascriptåŸºç¡€ä¹‹æ•°æ®ç±»å‹ä¸è½¬æ¢"><span class="post-nav-text">javascriptåŸºç¡€ä¹‹æ•°æ®ç±»å‹ä¸è½¬æ¢</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>å°è¯•ä½¿ç”¨ valine è¯„è®ºç³»ç»Ÿã€‚</span><br><span>æ‚¨å¯ä»¥ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®åˆ‡æ¢å¯¹åº”è¯„è®ºç³»ç»Ÿã€‚</span><br><span>è‹¥æ‚¨æƒ³åŠæ—¶å¾—åˆ°å›å¤æé†’ï¼Œå»ºè®®è·³è½¬ GitHub Issues è¯„è®ºã€‚</span><br><span>è‹¥æ²¡æœ‰æœ¬æ–‡ Issueï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ Comment æ¨¡ç‰ˆæ–°å»ºã€‚</span><br><a class="hty-button hty-button--raised" id="github-issues" target="_blank" rel="noopener" href="https://github.com/webyang-male/webyang-male.github.io/issues?q=is:open+ajaxä»£ç ç¬”è®°">GitHub Issues</a></div><div class="toggle-comment-system" style="margin: 1rem auto"><a class="toggle-comment-btn hty-button hty-button--raised text-uppercase" data-target=".utterances" onclick="showComment(this.dataset.target)">utterances</a><style>#disqus_thread {
  display: none;
}</style><a class="toggle-comment-btn hty-button hty-button--raised text-uppercase" data-target="#disqus_thread" onclick="showComment(this.dataset.target)">disqusjs</a><script>function hideAllComment() {
  //- hide all
  document.querySelectorAll('.toggle-comment-btn').forEach((btn) => {
    const container = document.querySelector(btn.dataset.target);
    if (container) {
      container.style.display = "none";
    }
  });
}
function showComment(target) {
  hideAllComment();
  //- show target
  const targetContainer = document.querySelector(target);
  if (targetContainer) {
    targetContainer.style.display = "block";
  }
}
</script></div><div id="disqus_thread"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/disqusjs@latest/dist/disqusjs.css"><script src="https://cdn.jsdelivr.net/npm/disqusjs@latest/dist/disqus.js"></script><script>const disqusjsConfig = {"enable":true,"shortname":"dazhao","apikey":"RyjBTPSwdNnrvz3hGg10KZWgMvaxmE0GuJEdpamXXSQdo97zBKUFv3v1oYaEyxxU","nocomment":"è¿™é‡Œå¥½å†·æ¸…é¸­,å¿«æ¥å‘è¡¨ä¸€ä¸‹é«˜è§å§~"}
function loadDisqus() {
  const dsqjs = new DisqusJS(disqusjsConfig)
}</script><script src="/js/comments/disqus.js"></script><style>.utterances {
  max-width: 100%;
}</style><script src="https://utteranc.es/client.js" repo="webyang-male/webyang-male.github.io" issue-term="title" theme="photon-dark" crossorigin="anonymous" async></script></div></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="https://beian.miit.gov.cn/" target="_blank">é„‚ICPå¤‡2020015500å·-1</a></div><div class="copyright"><span>&copy; 2020 â€“ 2021 </span><a class="with-love" id="animate" target="_blank" rel="noopener" href="https://www.upyun.com/" title="å¤§èµµèŒçš„èµåŠ©è€…ä»¬"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></a><span class="author"> å¤§èµµèŒ</span></div><div class="powered"><span>ç”± <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> é©±åŠ¨ v5.4.0</span><span class="footer-separator">|</span><span>ä¸»é¢˜ - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.6.1</span></div><div class="live_time"><span>æœ¬åšå®¢å·²èŒèŒå“’åœ°è¿è¡Œ</span><span id="display_live_time"></span><span class="moe-text">(â—'â—¡'â—)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2020-08-23T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " å¤© " + passHour + " å°æ—¶ " + passMinute + " åˆ† " + passSecond + " ç§’";
}
blog_live_time();
</script></div><div class="footer-custom-text"><span style="color:#FF4500 !important;">æœ¬ç«™ç«‹äºä¸­å›½å¤§é™†å¢ƒå†…,è¯·è§„èŒƒè‡ªèº«è¨€è¡Œã€‚</span></div><div class="footer-support"><span>æœ¬ç½‘ç«™ç”±</span><a class="footer-support-logo" href="https://www.upyun.com/?utm_source=lianmeng&amp;utm_medium=referral" target="blank" title="åˆæ‹äº‘"><img height="30" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/logo/upyun-logo.png" alt="åˆæ‹äº‘"></a><span>æä¾› CDN åŠ é€Ÿ</span></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="æœç´¢"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="/js/search/local-search.js" defer></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="æœç´¢..." value=""></div><div id="local-search-result"></div></div><script>const date = new Date();
const today = (date.getMonth() + 1) + "-" + date.getDate()
const mourn_days = ["4-4","5-22","12-13"]
if (mourn_days.includes(today)) {
  document.documentElement.style.filter = "grayscale(1)";
}</script><div class="aplayer no-destroy" id="aplayer" data-id="99315329" data-server="netease" data-type="playlist" data-fixed="true" data-theme="#0078E7" data-loop="all" data-order="list" data-preload="auto" data-volume="0.7" data-mutex data-lrctype="0" data-listmaxheight="340px" data-storagename="metingjs"></div></div><!-- hexo injector body_end start --><script src="https://cdn.jsdelivr.net/npm/hexo-tag-common@latest/js/index.js"></script>
  <script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/hexo-github-calendar@1.21/hexo_githubcalendar.js"></script>
  <script data-pjax>
        function GithubCalendarConfig(){
            var git_githubapiurl ="https://python-github-calendar-api.vercel.app/api?webyang-male";
            var git_color =['#F5F5F5', '#bce672', '#bddd22', '#afdd22', '#a3d900', '#9ed900', '#9ed048', '#3CB371', '#228B22', '#008000', '#006400'];
            var git_user ="webyang-male";
            var parent_div_git = document.getElementById('recent-posts');
            var git_div_html = '<div class="recent-post-item" style="width:100%;height:auto;padding:10px;"><div id="github_loading" style="width:10%;height:100%;margin:0 auto;display: block"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform></path></svg></div><div id="github_container" style="width:70vw!important;position: relative; left: 205%;"></div></div>';
            if(parent_div_git && location.pathname =='/'){
                console.log('å·²æŒ‚è½½github calendar')
                // parent_div_git.innerHTML=git_div_html+parent_div_git.innerHTML // æ— æŠ¥é”™ï¼Œä½†ä¸å½±å“ä½¿ç”¨(æ”¯æŒpjaxè·³è½¬)
                parent_div_git.insertAdjacentHTML("afterbegin",git_div_html) // æœ‰æŠ¥é”™ï¼Œä½†ä¸å½±å“ä½¿ç”¨(æ”¯æŒpjaxè·³è½¬)
            };
            GithubCalendar(git_githubapiurl,git_color,git_user)
        }
        if(document.getElementById('recent-posts')){
            GithubCalendarConfig()
        }
    </script>
    <style>#github_container{min-height:450px}@media screen and (max-width:650px) {#github_container{background-image:;min-height:0px}}</style>
    <style></style><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>